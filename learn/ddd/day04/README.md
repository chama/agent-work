# Day 4: æˆ¦ç•¥çš„è¨­è¨ˆã®æ·±æ˜ã‚Š â€” ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³

> **ç›®æ¨™**: ãƒ“ã‚¸ãƒã‚¹ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã«åˆ†é¡ã—ã€ãã‚Œãã‚Œã«é©åˆ‡ãªè¨­è¨ˆæŠ•è³‡ã‚’è¡Œã†åˆ¤æ–­åŠ›ã‚’èº«ã«ã¤ã‘ã‚‹ã€‚

---

## ç›®æ¬¡

1. [ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã¯ä½•ã‹](#1-ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã¯ä½•ã‹)
2. [ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®3åˆ†é¡](#2-ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®3åˆ†é¡)
3. [å„ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¸ã®æŠ•è³‡æˆ¦ç•¥](#3-å„ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¸ã®æŠ•è³‡æˆ¦ç•¥)
4. [å®Ÿä¾‹ã§å­¦ã¶ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç‰¹å®š](#4-å®Ÿä¾‹ã§å­¦ã¶ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç‰¹å®š)
5. [ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è’¸ç•™ï¼ˆDistillationï¼‰](#5-ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è’¸ç•™distillation)
6. [Domain Vision Statement ã®æ›¸ãæ–¹](#6-domain-vision-statement-ã®æ›¸ãæ–¹)
7. [Highlighted Core ã®ç‰¹å®šæ–¹æ³•](#7-highlighted-core-ã®ç‰¹å®šæ–¹æ³•)
8. [ã€Œä½œã‚‹ vs è²·ã† vs å€Ÿã‚Šã‚‹ã€ã®åˆ¤æ–­åŸºæº–](#8-ä½œã‚‹-vs-è²·ã†-vs-å€Ÿã‚Šã‚‹ã®åˆ¤æ–­åŸºæº–)
9. [CQRS / Event Sourcing ã®å°å…¥åˆ¤æ–­ï¼ˆæ¦‚è¦ï¼‰](#9-cqrs--event-sourcing-ã®å°å…¥åˆ¤æ–­æ¦‚è¦)
10. [DDDã‚’é©ç”¨ã™ã¹ãå ´æ‰€ã¨ã—ãªã„å ´æ‰€](#10-ddã‚’é©ç”¨ã™ã¹ãå ´æ‰€ã¨ã—ãªã„å ´æ‰€)
11. [ã¾ã¨ã‚](#11-ã¾ã¨ã‚)

---

## 1. ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¨ã¯ä½•ã‹

DDDã«ãŠã„ã¦ã€**ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆDomainï¼‰** ã¨ã¯ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãŒè§£æ±ºã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ãƒ“ã‚¸ãƒã‚¹é ˜åŸŸå…¨ä½“ã‚’æŒ‡ã™ã€‚
ã—ã‹ã—ã€ç¾å®Ÿã®ãƒ“ã‚¸ãƒã‚¹ã¯è¤‡é›‘ã§ã‚ã‚Šã€ä¸€æšå²©ã§æ‰±ã†ã“ã¨ã¯ã§ããªã„ã€‚

ãã“ã§ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’**ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆSubdomainï¼‰** ã¨ã„ã†å°ã•ãªé ˜åŸŸã«åˆ†å‰²ã™ã‚‹ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ãƒ“ã‚¸ãƒã‚¹ãƒ‰ãƒ¡ã‚¤ãƒ³                     â”‚
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  ã‚µãƒ–      â”‚ â”‚  ã‚µãƒ–      â”‚ â”‚  ã‚µãƒ–      â”‚      â”‚
â”‚  â”‚ ãƒ‰ãƒ¡ã‚¤ãƒ³A   â”‚ â”‚ ãƒ‰ãƒ¡ã‚¤ãƒ³B   â”‚ â”‚ ãƒ‰ãƒ¡ã‚¤ãƒ³C   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚  ã‚µãƒ–      â”‚ â”‚  ã‚µãƒ–      â”‚                     â”‚
â”‚  â”‚ ãƒ‰ãƒ¡ã‚¤ãƒ³D   â”‚ â”‚ ãƒ‰ãƒ¡ã‚¤ãƒ³E   â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **é‡è¦**: ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ã€ŒæŠ€è¡“çš„ãªåˆ†å‰²ã€ã§ã¯ãªãã€Œãƒ“ã‚¸ãƒã‚¹ã®åˆ†å‰²ã€ã§ã‚ã‚‹ã€‚
> çµ„ç¹”ã®æ§‹é€ ã‚„ãƒ“ã‚¸ãƒã‚¹ã®è²¬å‹™ã«å¾“ã£ã¦è‡ªç„¶ã«åˆ†ã‹ã‚Œã‚‹ã‚‚ã®ã ã€‚

---

## 2. ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®3åˆ†é¡

ã™ã¹ã¦ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ã€ä»¥ä¸‹ã®3ã¤ã®ã‚«ãƒ†ã‚´ãƒªã«åˆ†é¡ã§ãã‚‹ã€‚

### 2.1 Core Domainï¼ˆã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰

**å®šç¾©**: ãƒ“ã‚¸ãƒã‚¹ã®ç«¶äº‰å„ªä½æ€§ã®æºæ³‰ã¨ãªã‚‹é ˜åŸŸã€‚

- ã“ã®é ˜åŸŸã“ããŒã€ã‚ãªãŸã®ä¼šç¤¾ãŒå­˜åœ¨ã™ã‚‹ç†ç”±
- ä»–ç¤¾ã¨ã®å·®åˆ¥åŒ–ã‚’ç”Ÿã¿å‡ºã™
- æœ€ã‚‚è¤‡é›‘ã§ã€æœ€ã‚‚ä¾¡å€¤ãŒé«˜ã„
- **æœ€é«˜ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’ã“ã“ã«é…ç½®ã™ã¹ã**

```
ç‰¹å¾´:
  - ãƒ“ã‚¸ãƒã‚¹ä¸Šã®å·®åˆ¥åŒ–è¦å› 
  - é«˜ã„è¤‡é›‘æ€§
  - é »ç¹ãªå¤‰æ›´ãŒäºˆæƒ³ã•ã‚Œã‚‹
  - å¤–éƒ¨ã«å§”è¨—ã™ã¹ãã§ã¯ãªã„
  - æœ€ã‚‚å¤šãã®æŠ•è³‡ãŒå¿…è¦
```

### 2.2 Supporting Subdomainï¼ˆæ”¯æ´ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰

**å®šç¾©**: ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æ”¯ãˆã‚‹ãŒã€ãã‚Œè‡ªä½“ã¯å·®åˆ¥åŒ–è¦å› ã§ã¯ãªã„é ˜åŸŸã€‚

- ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒæ©Ÿèƒ½ã™ã‚‹ãŸã‚ã«å¿…è¦
- è‡ªç¤¾å›ºæœ‰ã®ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å«ã‚€ï¼ˆå¸‚è²©å“ã§ã¯å¯¾å¿œã§ããªã„ï¼‰
- ã—ã‹ã—ã€ã“ã‚Œè‡ªä½“ã§ç«¶äº‰å„ªä½ã¯ç”Ÿã¾ã‚Œãªã„

```
ç‰¹å¾´:
  - ã‚³ã‚¢ã‚’è£œåŠ©ã™ã‚‹
  - ã‚«ã‚¹ã‚¿ãƒ é–‹ç™ºãŒå¿…è¦ã ãŒã€è¤‡é›‘ã•ã¯ä¸­ç¨‹åº¦
  - å¤–æ³¨ã‚‚é¸æŠè‚¢ã«å…¥ã‚‹
  - é©åº¦ãªæŠ•è³‡
```

### 2.3 Generic Subdomainï¼ˆæ±ç”¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰

**å®šç¾©**: ã©ã®ä¼æ¥­ã§ã‚‚å…±é€šã§å¿…è¦ãªé ˜åŸŸã€‚

- èªè¨¼ã€ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã€æ±ºæ¸ˆå‡¦ç†ï¼ˆæ±ç”¨éƒ¨åˆ†ï¼‰ãªã©
- è‡ªç¤¾ã§ä½œã‚‹å¿…è¦ã¯ã»ã¼ãªã„
- æ—¢è£½å“ã‚„SaaSã‚’åˆ©ç”¨ã™ã‚‹ã®ãŒæœ€å–„

```
ç‰¹å¾´:
  - æ¥­ç•Œãƒ»ä¼æ¥­ã‚’å•ã‚ãšå…±é€š
  - æ—¢å­˜ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒè±Šå¯Œ
  - è‡ªä½œã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆãŒè–„ã„
  - æœ€å°é™ã®æŠ•è³‡
```

### 3åˆ†é¡ã®é–¢ä¿‚å›³

```
æŠ•è³‡ã®å„ªå…ˆåº¦ãƒ»è¨­è¨ˆã®æ´—ç·´åº¦
    â–²
    â”‚
é«˜  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  â”‚   Core Domain     â”‚ â† æœ€é«˜ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æŠ•å…¥
    â”‚  â”‚  ï¼ˆã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰    â”‚    ãƒªãƒƒãƒãªãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
ä¸­  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  â”‚   Supporting      â”‚ â† å¿…è¦ååˆ†ãªè¨­è¨ˆ
    â”‚  â”‚ ï¼ˆæ”¯æ´ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰ â”‚    ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¢ãƒ‡ãƒ«ã§OK
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
ä½  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  â”‚   Generic         â”‚ â† æ—¢è£½å“ãƒ»SaaSã‚’æ´»ç”¨
    â”‚  â”‚ ï¼ˆæ±ç”¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰ â”‚    è‡ªä½œã¯é¿ã‘ã‚‹
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ å·®åˆ¥åŒ–ã¸ã®è²¢çŒ®åº¦
```

---

## 3. å„ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã¸ã®æŠ•è³‡æˆ¦ç•¥

ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç¨®é¡ã«ã‚ˆã£ã¦ã€å–ã‚‹ã¹ãæˆ¦ç•¥ã¯å¤§ããç•°ãªã‚‹ã€‚

| è¦³ç‚¹ | Core Domain | Supporting | Generic |
|------|-------------|------------|---------|
| **è¨­è¨ˆã®æ·±ã•** | ãƒªãƒƒãƒãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« | ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¢ãƒ‡ãƒ« | CRUD / æ—¢è£½å“ |
| **ãƒ†ã‚¹ãƒˆ** | å¾¹åº•çš„ã«ãƒ†ã‚¹ãƒˆ | å¿…è¦ååˆ†ãªãƒ†ã‚¹ãƒˆ | æœ€å°é™ã®ãƒ†ã‚¹ãƒˆ |
| **äººæé…ç½®** | æœ€ã‚‚å„ªç§€ãªã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ | ä¸­å …ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ | ã‚¸ãƒ¥ãƒ‹ã‚¢ã¾ãŸã¯å¤–æ³¨ |
| **æŠ€è¡“é¸å®š** | æœ€é©ãªæŠ€è¡“ã‚’é¸ã¶ | æ¨™æº–çš„ãªæŠ€è¡“ | å®Ÿç¸¾ã®ã‚ã‚‹æŠ€è¡“ |
| **å¤‰æ›´é »åº¦** | é«˜ã„ï¼ˆãƒ“ã‚¸ãƒã‚¹å¤‰åŒ–ã«è¿½å¾“ï¼‰ | ä¸­ç¨‹åº¦ | ä½ã„ |
| **å¤–æ³¨** | âŒ é¿ã‘ã‚‹ | â–³ å ´åˆã«ã‚ˆã‚‹ | âœ… ç©æ¥µçš„ã«æ´»ç”¨ |
| **æ—¢è£½å“åˆ©ç”¨** | âŒ è‡ªç¤¾ã§æ§‹ç¯‰ | â–³ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå‰æ | âœ… SaaS/OSSã‚’åˆ©ç”¨ |

### ãªãœã“ã®åŒºåˆ¥ãŒé‡è¦ã‹ï¼Ÿ

ãƒªã‚½ãƒ¼ã‚¹ã¯æœ‰é™ã§ã‚ã‚‹ã€‚ã™ã¹ã¦ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã«åŒã˜æŠ•è³‡ã‚’ã™ã‚‹ã®ã¯éåŠ¹ç‡çš„ã ã€‚

```
âŒ ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³: ã™ã¹ã¦ã‚’åŒã˜ç†±é‡ã§ä½œã‚‹
    â†’ ãƒªã‚½ãƒ¼ã‚¹ãŒåˆ†æ•£ã—ã€ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒç–ã‹ã«ãªã‚‹

âŒ ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³: ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å¤–æ³¨ã™ã‚‹
    â†’ ç«¶äº‰å„ªä½æ€§ãŒå¤±ã‚ã‚Œã‚‹

âœ… æ­£ã—ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ:
    â†’ ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã«é›†ä¸­æŠ•è³‡
    â†’ ãã‚Œä»¥å¤–ã¯ã€Œååˆ†ã«è‰¯ã„ã€ã§æ¸ˆã¾ã›ã‚‹
```

---

## 4. å®Ÿä¾‹ã§å­¦ã¶ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç‰¹å®š

### Netflix ã®å ´åˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Netflix ã®ãƒ‰ãƒ¡ã‚¤ãƒ³                      â”‚
â”‚                                                           â”‚
â”‚  ğŸ”´ Core Domainï¼ˆã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰                             â”‚
â”‚  â”œâ”€â”€ ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆæ¨è–¦ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼‰             â”‚
â”‚  â”œâ”€â”€ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é…ä¿¡æœ€é©åŒ–ï¼ˆã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å“è³ªåˆ¶å¾¡ï¼‰             â”‚
â”‚  â””â”€â”€ ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆUIã®å€‹åˆ¥æœ€é©åŒ–ï¼‰                  â”‚
â”‚                                                           â”‚
â”‚  ğŸŸ¡ Supporting Subdomainï¼ˆæ”¯æ´ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰                 â”‚
â”‚  â”œâ”€â”€ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†                                â”‚
â”‚  â”œâ”€â”€ A/Bãƒ†ã‚¹ãƒˆåŸºç›¤                                        â”‚
â”‚  â””â”€â”€ å­—å¹•ãƒ»å¤šè¨€èªå¯¾å¿œç®¡ç†                                   â”‚
â”‚                                                           â”‚
â”‚  ğŸ”µ Generic Subdomainï¼ˆæ±ç”¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼‰                    â”‚
â”‚  â”œâ”€â”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ»èªå¯                                     â”‚
â”‚  â”œâ”€â”€ æ±ºæ¸ˆå‡¦ç†                                              â”‚
â”‚  â””â”€â”€ ãƒ¡ãƒ¼ãƒ«é€šçŸ¥                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ãƒã‚¤ãƒ³ãƒˆ**: Netflix ã®ç«¶äº‰åŠ›ã¯ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æœ€é©ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ¨è–¦ã™ã‚‹èƒ½åŠ›ã€ã«ã‚ã‚‹ã€‚
æ±ºæ¸ˆã‚„èªè¨¼ã¯é‡è¦ã ãŒã€ãã‚Œè‡ªä½“ã¯Netflixã®å·®åˆ¥åŒ–è¦å› ã§ã¯ãªã„ã€‚

### Amazonï¼ˆECäº‹æ¥­ï¼‰ã®å ´åˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Amazon ECäº‹æ¥­ ã®ãƒ‰ãƒ¡ã‚¤ãƒ³                     â”‚
â”‚                                                           â”‚
â”‚  ğŸ”´ Core Domain                                           â”‚
â”‚  â”œâ”€â”€ å•†å“æ¤œç´¢ãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ                          â”‚
â”‚  â”œâ”€â”€ ç‰©æµæœ€é©åŒ–ï¼ˆé…é€ãƒ«ãƒ¼ãƒˆãƒ»å€‰åº«ç®¡ç†ï¼‰                       â”‚
â”‚  â”œâ”€â”€ ä¾¡æ ¼è¨­å®šã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ—ãƒ©ã‚¤ã‚·ãƒ³ã‚°ï¼‰               â”‚
â”‚  â””â”€â”€ ãƒãƒ¼ã‚±ãƒƒãƒˆãƒ—ãƒ¬ã‚¤ã‚¹é‹å–¶ï¼ˆå‡ºå“è€…ç®¡ç†ï¼‰                      â”‚
â”‚                                                           â”‚
â”‚  ğŸŸ¡ Supporting Subdomain                                   â”‚
â”‚  â”œâ”€â”€ ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ                                   â”‚
â”‚  â”œâ”€â”€ åœ¨åº«ç®¡ç†                                              â”‚
â”‚  â””â”€â”€ ã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆç®¡ç†                                  â”‚
â”‚                                                           â”‚
â”‚  ğŸ”µ Generic Subdomain                                      â”‚
â”‚  â”œâ”€â”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼                                           â”‚
â”‚  â”œâ”€â”€ æ±ºæ¸ˆå‡¦ç†                                              â”‚
â”‚  â””â”€â”€ ãƒ¡ãƒ¼ãƒ«ãƒ»é€šçŸ¥é…ä¿¡                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Uber ã®å ´åˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Uber ã®ãƒ‰ãƒ¡ã‚¤ãƒ³                            â”‚
â”‚                                                           â”‚
â”‚  ğŸ”´ Core Domain                                           â”‚
â”‚  â”œâ”€â”€ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒƒãƒãƒ³ã‚°ï¼ˆä¹—å®¢ã¨ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®æœ€é©çµ„åˆã›ï¼‰      â”‚
â”‚  â”œâ”€â”€ ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ—ãƒ©ã‚¤ã‚·ãƒ³ã‚°ï¼ˆéœ€çµ¦ã«å¿œã˜ãŸä¾¡æ ¼æ±ºå®šï¼‰           â”‚
â”‚  â””â”€â”€ ETAäºˆæ¸¬ï¼ˆåˆ°ç€æ™‚é–“ã®æ­£ç¢ºãªäºˆæ¸¬ï¼‰                         â”‚
â”‚                                                           â”‚
â”‚  ğŸŸ¡ Supporting Subdomain                                   â”‚
â”‚  â”œâ”€â”€ ãƒ‰ãƒ©ã‚¤ãƒãƒ¼è©•ä¾¡ãƒ»ç®¡ç†                                   â”‚
â”‚  â”œâ”€â”€ åœ°å›³ãƒ»ãƒ«ãƒ¼ãƒˆè¡¨ç¤º                                       â”‚
â”‚  â””â”€â”€ ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¯ãƒ¼ãƒãƒ³ç®¡ç†                             â”‚
â”‚                                                           â”‚
â”‚  ğŸ”µ Generic Subdomain                                      â”‚
â”‚  â”œâ”€â”€ ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼                                          â”‚
â”‚  â”œâ”€â”€ æ±ºæ¸ˆå‡¦ç†                                              â”‚
â”‚  â””â”€â”€ ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **æ¼”ç¿’ã®ãƒ’ãƒ³ãƒˆ**: ã€Œã‚‚ã—ã“ã®æ©Ÿèƒ½ãŒä»–ç¤¾ã‚ˆã‚ŠåŠ£ã£ã¦ã„ãŸã‚‰ã€é¡§å®¢ã‚’å¤±ã†ã‹ï¼Ÿã€ã¨å•ã„ã‹ã‘ã‚‹ã¨ã€
> ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’ç‰¹å®šã—ã‚„ã™ã„ã€‚

---

## 5. ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è’¸ç•™ï¼ˆDistillationï¼‰

### è’¸ç•™ã¨ã¯ä½•ã‹ï¼Ÿ

Eric Evans ã¯è‘—æ›¸ã®ä¸­ã§ã€Œã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è’¸ç•™ï¼ˆDistillationï¼‰ã€ã¨ã„ã†æ¦‚å¿µã‚’æå”±ã—ãŸã€‚
ã“ã‚Œã¯ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®ä¸­ã‹ã‚‰æœ¬è³ªçš„ãªéƒ¨åˆ†ã‚’æŠ½å‡ºã—ã€ãã‚Œä»¥å¤–ã®ãƒã‚¤ã‚ºã‚’å–ã‚Šé™¤ããƒ—ãƒ­ã‚»ã‚¹ã§ã‚ã‚‹ã€‚

```
è’¸ç•™ã®ãƒ¡ã‚¿ãƒ•ã‚¡ãƒ¼:

    åŸé…’ï¼ˆæ··åˆç‰©ï¼‰           è’¸ç•™              ç´”åº¦ã®é«˜ã„ã‚¨ãƒƒã‚»ãƒ³ã‚¹
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         åŠ ç†±ãƒ»å†·å´          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’     â”‚ ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ â”‚
  â”‚ è£œåŠ©ãƒ­ã‚¸ãƒƒã‚¯ â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚ æ±ç”¨ãƒ­ã‚¸ãƒƒã‚¯ â”‚         åˆ†é›¢               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æŠ€è¡“çš„é–¢å¿ƒäº‹ â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’     â”‚ ãã‚Œä»¥å¤–    â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è’¸ç•™ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

#### 1. Domain Vision Statementï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ“ã‚¸ãƒ§ãƒ³ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆï¼‰

ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç›®çš„ã¨ä¾¡å€¤ã‚’ç°¡æ½”ã«è¨˜è¿°ã—ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€‚
è©³ç´°ã¯ [ã‚»ã‚¯ã‚·ãƒ§ãƒ³6](#6-domain-vision-statement-ã®æ›¸ãæ–¹) ã§è§£èª¬ã™ã‚‹ã€‚

#### 2. Highlighted Coreï¼ˆãƒã‚¤ãƒ©ã‚¤ãƒ†ãƒƒãƒ‰ã‚³ã‚¢ï¼‰

ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®ä¸­ã§ã€Œã“ã“ãŒã‚³ã‚¢ã ã€ã¨æ˜ç¤ºçš„ã«ãƒãƒ¼ã‚­ãƒ³ã‚°ã™ã‚‹æ‰‹æ³•ã€‚
è©³ç´°ã¯ [ã‚»ã‚¯ã‚·ãƒ§ãƒ³7](#7-highlighted-core-ã®ç‰¹å®šæ–¹æ³•) ã§è§£èª¬ã™ã‚‹ã€‚

#### 3. Generic Subdomains ã®åˆ†é›¢

æ±ç”¨çš„ãªæ©Ÿèƒ½ã‚’ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰ç‰©ç†çš„ã«åˆ†é›¢ã™ã‚‹ã€‚

```python
# âŒ ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã«æ±ç”¨ãƒ­ã‚¸ãƒƒã‚¯ãŒæ··åœ¨
class Order:
    def place(self):
        self.validate_address()      # æ±ç”¨: ä½æ‰€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
        self.calculate_tax()          # æ±ç”¨: ç¨è¨ˆç®—
        self.apply_pricing_rules()    # ã‚³ã‚¢: ä¾¡æ ¼æˆ¦ç•¥
        self.send_confirmation()      # æ±ç”¨: ãƒ¡ãƒ¼ãƒ«é€ä¿¡

# âœ… æ±ç”¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢ã—ã€ã‚³ã‚¢ã«é›†ä¸­
class Order:
    def place(self, address_validator, tax_calculator, notifier):
        address_validator.validate(self.address)   # å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã«å§”è­²
        tax = tax_calculator.calculate(self.items)  # å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã«å§”è­²
        self.apply_pricing_rules(tax)               # â† ã“ã“ãŒã‚³ã‚¢ï¼
        notifier.send_confirmation(self)            # å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã«å§”è­²
```

#### 4. Cohesive Mechanismï¼ˆå‡é›†ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ï¼‰

è¤‡é›‘ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯çš„ãªã‚³ãƒ¼ãƒ‰ã‚’åˆ¥ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«åˆ‡ã‚Šå‡ºã™ã€‚
ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã¯ã€Œä½•ã‚’ã™ã‚‹ã‹ã€ã«é›†ä¸­ã—ã€ã€Œã©ã†ã‚„ã‚‹ã‹ã€ã¯åˆ¥ã®å ´æ‰€ã«ç½®ãã€‚

```
ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«                    å‡é›†ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã€Œä¾¡æ ¼ã‚’æœ€é©åŒ–ã›ã‚ˆã€â”‚  â”€â”€ä¾å­˜â”€â”€â†’ â”‚ æœ€é©åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ   â”‚
â”‚  ï¼ˆæ„å›³ã‚’è¡¨ç¾ï¼‰    â”‚            â”‚ ï¼ˆå®Ÿè£…ã®è©³ç´°ï¼‰      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Domain Vision Statement ã®æ›¸ãæ–¹

### Domain Vision Statement ã¨ã¯

**ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å­˜åœ¨æ„ç¾©ã‚’1ã€œ2æ®µè½ã§è¨˜è¿°ã—ãŸçŸ­ã„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€‚**

å…¨ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒã€Œæˆ‘ã€…ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®æ ¸å¿ƒã¯ä½•ã‹ã€ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹ã€‚

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```markdown
## Domain Vision Statement

### å¯¾è±¡ãƒ‰ãƒ¡ã‚¤ãƒ³
[ãƒ‰ãƒ¡ã‚¤ãƒ³å]

### ãƒ“ã‚¸ãƒ§ãƒ³
[ã“ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã¯ä½•ã‚’å®Ÿç¾ã™ã‚‹ã®ã‹ã€‚ãƒ“ã‚¸ãƒã‚¹ä¸Šã©ã®ã‚ˆã†ãªä¾¡å€¤ã‚’æä¾›ã™ã‚‹ã®ã‹ã€‚]

### å·®åˆ¥åŒ–è¦å› 
[ä»–ç¤¾ãƒ»ä»–ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¨æ¯”ã¹ã¦ä½•ãŒç‹¬è‡ªãªã®ã‹ã€‚]

### æˆåŠŸã®å®šç¾©
[ã“ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãŒæˆåŠŸã—ã¦ã„ã‚‹çŠ¶æ…‹ã¯ã©ã®ã‚ˆã†ãªçŠ¶æ…‹ã‹ã€‚]
```

### æ›¸ãæ–¹ã®ã‚³ãƒ„

1. **æŠ€è¡“ç”¨èªã‚’é¿ã‘ã‚‹**: ãƒ“ã‚¸ãƒã‚¹ã®è¨€è‘‰ã§æ›¸ã
2. **çŸ­ãä¿ã¤**: 1ãƒšãƒ¼ã‚¸ä»¥å†…ï¼ˆç†æƒ³ã¯1ã€œ2æ®µè½ï¼‰
3. **å·®åˆ¥åŒ–ã«ç„¦ç‚¹**: ã€Œä»–ç¤¾ã«ã¯ãªã„ã€ä¾¡å€¤ã‚’æ˜ç¢ºã«ã™ã‚‹
4. **å®šæœŸçš„ã«æ›´æ–°**: ãƒ“ã‚¸ãƒã‚¹ãŒå¤‰åŒ–ã—ãŸã‚‰æ›¸ãç›´ã™
5. **å…¨å“¡ãŒèª­ã‚ã‚‹**: ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ä»¥å¤–ã‚‚ç†è§£ã§ãã‚‹è¡¨ç¾ã§

### ä¾‹: EC ã‚µã‚¤ãƒˆã® Domain Vision Statement

> ã€Œç§ãŸã¡ã®å•†å“æ¨è–¦ã‚¨ãƒ³ã‚¸ãƒ³ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¡Œå‹•å±¥æ­´ã¨å—œå¥½ã‚’æ·±ãç†è§£ã—ã€
> "ã¾ã çŸ¥ã‚‰ãªã„ãŒæ¬²ã—ã„ã‚‚ã®" ã‚’ææ¡ˆã™ã‚‹èƒ½åŠ›ã«ãŠã„ã¦ç«¶åˆã‚’ä¸Šå›ã‚‹ã€‚
> å˜ãªã‚‹è³¼è²·å±¥æ­´ãƒ™ãƒ¼ã‚¹ã®æ¨è–¦ã§ã¯ãªãã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆæ™‚é–“å¸¯ã€å­£ç¯€ã€
> ãƒ©ã‚¤ãƒ•ã‚¤ãƒ™ãƒ³ãƒˆï¼‰ã‚’è€ƒæ…®ã—ãŸæ¨è–¦ã‚’è¡Œã†ã“ã¨ã§ã€è³¼è²·ç‡ã¨é¡§å®¢æº€è¶³åº¦ã®
> ä¸¡æ–¹ã‚’å‘ä¸Šã•ã›ã‚‹ã€‚ã€

> **æ³¨æ„**: ã‚ˆã‚Šè©³ã—ã„ä¾‹ã¯ [examples/domain_vision_statement.md](./examples/domain_vision_statement.md) ã‚’å‚ç…§ã€‚

---

## 7. Highlighted Core ã®ç‰¹å®šæ–¹æ³•

### Highlighted Core ã¨ã¯

æ—¢å­˜ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ï¼ˆã‚³ãƒ¼ãƒ‰ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€å›³ï¼‰ã®ä¸­ã§ã€
**ã€Œã“ã“ãŒã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã™ã€ã¨æ˜ç¤ºçš„ã«ãƒã‚¤ãƒ©ã‚¤ãƒˆã™ã‚‹**ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã€‚

### æ–¹æ³•1: Distillation Documentï¼ˆè’¸ç•™ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰

ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¦ç´ ã‚’åˆ—æŒ™ã—ãŸã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ã€‚

```markdown
## Highlighted Core â€” é…è»Šãƒãƒƒãƒãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ 

### ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å«ã¾ã‚Œã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- `matching/` â€” ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒƒãƒãƒ³ã‚°ã‚¨ãƒ³ã‚¸ãƒ³
- `pricing/` â€” ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ãƒ—ãƒ©ã‚¤ã‚·ãƒ³ã‚°
- `eta/` â€” åˆ°ç€æ™‚é–“äºˆæ¸¬

### ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å«ã¾ã‚Œã‚‹ä¸»è¦ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
- `RideRequest` â€” é…è»Šãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- `MatchingResult` â€” ãƒãƒƒãƒãƒ³ã‚°çµæœ
- `PricingRule` â€” ä¾¡æ ¼æ±ºå®šãƒ«ãƒ¼ãƒ«
- `ETAPrediction` â€” ETAäºˆæ¸¬çµæœ

### ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ä¸»è¦ãªãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«
1. ä¹—å®¢ã®å¾…ã¡æ™‚é–“ã‚’æœ€å°åŒ–ã—ã¤ã¤ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®ç¨¼åƒç‡ã‚’æœ€å¤§åŒ–ã™ã‚‹
2. éœ€çµ¦ãƒãƒ©ãƒ³ã‚¹ã«å¿œã˜ã¦ä¾¡æ ¼ã‚’å‹•çš„ã«èª¿æ•´ã™ã‚‹
3. äº¤é€šçŠ¶æ³ã¨éå»ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ETAã‚’é«˜ç²¾åº¦ã«äºˆæ¸¬ã™ã‚‹
```

### æ–¹æ³•2: Flagged Coreï¼ˆãƒ•ãƒ©ã‚°ä»˜ãã‚³ã‚¢ï¼‰

ã‚³ãƒ¼ãƒ‰ä¸Šã§ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¦ç´ ã«ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ãƒãƒ¼ã‚«ãƒ¼ã‚’ä»˜ã‘ã‚‹ã€‚

```python
from enum import Enum

class SubdomainType(Enum):
    CORE = "core"
    SUPPORTING = "supporting"
    GENERIC = "generic"

def subdomain(type: SubdomainType):
    """ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ã‚¯ãƒ©ã‚¹ãŒã©ã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã«å±ã™ã‚‹ã‹ã‚’ãƒãƒ¼ã‚­ãƒ³ã‚°"""
    def decorator(cls):
        cls._subdomain_type = type
        return cls
    return decorator

# ä½¿ç”¨ä¾‹
@subdomain(SubdomainType.CORE)
class MatchingEngine:
    """ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³: ä¹—å®¢ã¨ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒƒãƒãƒ³ã‚°"""
    pass

@subdomain(SubdomainType.SUPPORTING)
class DriverProfileManager:
    """æ”¯æ´ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³: ãƒ‰ãƒ©ã‚¤ãƒãƒ¼æƒ…å ±ã®ç®¡ç†"""
    pass

@subdomain(SubdomainType.GENERIC)
class EmailNotifier:
    """æ±ç”¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³: ãƒ¡ãƒ¼ãƒ«é€šçŸ¥"""
    pass
```

### æ–¹æ³•3: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ã§ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“å›³                             â”‚
â”‚                                                             â”‚
â”‚   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—                     â”‚
â”‚   â•‘     â˜… CORE DOMAIN â˜…              â•‘                     â”‚
â”‚   â•‘                                   â•‘                     â”‚
â”‚   â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘                     â”‚
â”‚   â•‘  â”‚Matching â”‚  â”‚  Pricing    â”‚    â•‘                     â”‚
â”‚   â•‘  â”‚ Engine  â”‚  â”‚  Engine     â”‚    â•‘                     â”‚
â”‚   â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘                     â”‚
â”‚   â•‘       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â•‘                     â”‚
â”‚   â•‘       â”‚ ETA Engine  â”‚            â•‘                     â”‚
â”‚   â•‘       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â•‘                     â”‚
â”‚   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                     â”‚
â”‚                    â”‚                                         â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚        â–¼          â–¼          â–¼                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚   â”‚ Driver  â”‚ â”‚ Rider  â”‚ â”‚  Map    â”‚  â† Supporting        â”‚
â”‚   â”‚ Mgmt   â”‚ â”‚ Mgmt   â”‚ â”‚ Service â”‚                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚   â”‚  Auth   â”‚ â”‚Payment â”‚ â”‚  Email  â”‚  â† Generic           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. ã€Œä½œã‚‹ vs è²·ã† vs å€Ÿã‚Šã‚‹ã€ã®åˆ¤æ–­åŸºæº–

ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã€Œè‡ªç¤¾ã§ä½œã‚‹ã€ã€Œè³¼å…¥ã™ã‚‹ã€ã€Œå€Ÿã‚Šã‚‹ï¼ˆSaaSï¼‰ã€ã‹ã®åˆ¤æ–­ã¯ã€
ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®åˆ†é¡ã¨å¯†æ¥ã«é–¢é€£ã—ã¦ã„ã‚‹ã€‚

### åˆ¤æ–­ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

```
                        å·®åˆ¥åŒ–ã¸ã®è²¢çŒ®åº¦
                    ä½ã„ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º é«˜ã„
                    â”‚                    â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
  ãƒ“  é«˜ã„ â”‚  è²·ã†/å€Ÿã‚Šã‚‹      â”‚    ä½œã‚‹          â”‚
  ã‚¸       â”‚  ï¼ˆåŠ¹ç‡é‡è¦–ï¼‰     â”‚  ï¼ˆæŠ•è³‡ã™ã¹ãï¼‰   â”‚
  ãƒ       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  ã‚¹  ä½ã„ â”‚  å€Ÿã‚Šã‚‹/ç„¡è¦–      â”‚    ä½œã‚‹           â”‚
  ã®       â”‚  ï¼ˆæœ€å°é™ã®æŠ•è³‡ï¼‰ â”‚  ï¼ˆå°†æ¥ã®æŠ•è³‡ï¼‰    â”‚
  è¤‡       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  é›‘
  ã•
```

### å„é¸æŠè‚¢ã®ç‰¹å¾´

#### ä½œã‚‹ï¼ˆBuildï¼‰

```
âœ… é©ã—ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹:
  - ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æ©Ÿèƒ½
  - å¸‚å ´ã«é©åˆ‡ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒãªã„
  - é«˜åº¦ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå¿…è¦
  - é•·æœŸçš„ãªç«¶äº‰å„ªä½æ€§ã‚’æ§‹ç¯‰ã—ãŸã„

âŒ é¿ã‘ã‚‹ã¹ãã‚±ãƒ¼ã‚¹:
  - æ±ç”¨çš„ãªæ©Ÿèƒ½ï¼ˆè»Šè¼ªã®å†ç™ºæ˜ï¼‰
  - ãƒãƒ¼ãƒ ã«ååˆ†ãªå°‚é–€çŸ¥è­˜ãŒãªã„
  - çŸ­æœŸé–“ã§å¿…è¦ãªæ©Ÿèƒ½
```

#### è²·ã†ï¼ˆBuyï¼‰

```
âœ… é©ã—ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹:
  - æ”¯æ´ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºãŒå¿…è¦
  - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹è³¼å…¥ã§é•·æœŸã‚³ã‚¹ãƒˆãŒä¸‹ãŒã‚‹
  - ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ç’°å¢ƒãŒå¿…é ˆ

âŒ é¿ã‘ã‚‹ã¹ãã‚±ãƒ¼ã‚¹:
  - ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆãƒ™ãƒ³ãƒ€ãƒ¼ãƒ­ãƒƒã‚¯ã‚¤ãƒ³ã®ãƒªã‚¹ã‚¯ï¼‰
  - é »ç¹ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ãŒå¿…è¦ãªå ´åˆ
```

#### å€Ÿã‚Šã‚‹ï¼ˆRent / SaaSï¼‰

```
âœ… é©ã—ã¦ã„ã‚‹ã‚±ãƒ¼ã‚¹:
  - æ±ç”¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³å…¨èˆ¬
  - èªè¨¼ï¼ˆAuth0, Firebase Authï¼‰
  - æ±ºæ¸ˆï¼ˆStripe, PayPayï¼‰
  - ãƒ¡ãƒ¼ãƒ«ï¼ˆSendGrid, Amazon SESï¼‰
  - ç›£è¦–ï¼ˆDatadog, New Relicï¼‰

âŒ é¿ã‘ã‚‹ã¹ãã‚±ãƒ¼ã‚¹:
  - ãƒ‡ãƒ¼ã‚¿ã®å®Œå…¨ãªã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãŒå¿…è¦
  - ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é…å»¶ãŒè¨±å®¹ã§ããªã„
  - ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã«æ·±ãé–¢ã‚ã‚‹æ©Ÿèƒ½
```

### åˆ¤æ–­ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã¤ã„ã¦ã€ä»¥ä¸‹ã®è³ªå•ã«ç­”ãˆã¦ã¿ã‚ˆã†:

```
â–¡ ã“ã‚Œã¯è‡ªç¤¾ã®ç«¶äº‰å„ªä½æ€§ã«ç›´çµã™ã‚‹ã‹ï¼Ÿ
  â†’ YES â†’ ä½œã‚‹ï¼ˆCore Domainï¼‰

â–¡ è‡ªç¤¾å›ºæœ‰ã®ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚‹ã‹ï¼Ÿ
  â†’ YES â†’ ä½œã‚‹ or ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦è²·ã†ï¼ˆSupportingï¼‰
  â†’ NO  â†’ æ¬¡ã®è³ªå•ã¸

â–¡ å¸‚å ´ã«ååˆ†ãªå“è³ªã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒã‚ã‚‹ã‹ï¼Ÿ
  â†’ YES â†’ è²·ã† or å€Ÿã‚Šã‚‹ï¼ˆGenericï¼‰
  â†’ NO  â†’ ä½œã‚‹ï¼ˆãŸã ã—æœ€å°é™ã®æŠ•è³‡ã§ï¼‰

â–¡ ãƒ‡ãƒ¼ã‚¿ã‚’å¤–éƒ¨ã«å‡ºã›ã‚‹ã‹ï¼Ÿ
  â†’ YES â†’ SaaSã‚‚é¸æŠè‚¢
  â†’ NO  â†’ è‡ªç¤¾æ§‹ç¯‰ or ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
```

---

## 9. CQRS / Event Sourcing ã®å°å…¥åˆ¤æ–­ï¼ˆæ¦‚è¦ï¼‰

### CQRSï¼ˆCommand Query Responsibility Segregationï¼‰ã¨ã¯

**ã‚³ãƒãƒ³ãƒ‰ï¼ˆæ›¸ãè¾¼ã¿ï¼‰ã¨ã‚¯ã‚¨ãƒªï¼ˆèª­ã¿è¾¼ã¿ï¼‰ã®è²¬å‹™ã‚’åˆ†é›¢ã™ã‚‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚**

```
å¾“æ¥ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚â”€â”€â”€â”€â†’â”‚  Model   â”‚â”€â”€â”€â”€â†’â”‚    DB    â”‚
â”‚          â”‚â†â”€â”€â”€â”€â”‚          â”‚â†â”€â”€â”€â”€â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 èª­ã¿æ›¸ãä¸¡æ–¹ã‚’
                  1ã¤ã®ãƒ¢ãƒ‡ãƒ«ã§

CQRS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚â”€â”€â”€â”€â†’â”‚ Command  â”‚â”€â”€â”€â”€â†’â”‚ Write DB â”‚
â”‚ (æ›¸ãè¾¼ã¿)â”‚     â”‚  Model   â”‚     â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚â”€â”€â”€â”€â†’â”‚  Query   â”‚â”€â”€â”€â”€â†’â”‚ Read DB  â”‚
â”‚ (èª­ã¿è¾¼ã¿)â”‚â†â”€â”€â”€â”€â”‚  Model   â”‚â†â”€â”€â”€â”€â”‚(æœ€é©åŒ–æ¸ˆ) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Event Sourcing ã¨ã¯

**çŠ¶æ…‹ã§ã¯ãªãã€Œã‚¤ãƒ™ãƒ³ãƒˆã®å±¥æ­´ã€ã‚’ä¿å­˜ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚**

```
å¾“æ¥ã®çŠ¶æ…‹ä¿å­˜:
  å£åº§æ®‹é«˜: 10,000å††  â† ç¾åœ¨ã®çŠ¶æ…‹ã®ã¿ä¿å­˜

Event Sourcing:
  ã‚¤ãƒ™ãƒ³ãƒˆ1: å£åº§é–‹è¨­ï¼ˆåˆæœŸæ®‹é«˜: 0å††ï¼‰
  ã‚¤ãƒ™ãƒ³ãƒˆ2: å…¥é‡‘ +50,000å††
  ã‚¤ãƒ™ãƒ³ãƒˆ3: å‡ºé‡‘ -30,000å††
  ã‚¤ãƒ™ãƒ³ãƒˆ4: å…¥é‡‘ +20,000å††
  ã‚¤ãƒ™ãƒ³ãƒˆ5: å‡ºé‡‘ -30,000å††
  â†’ ç¾åœ¨ã®æ®‹é«˜: 10,000å††ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆã‚’å†ç”Ÿã—ã¦ç®—å‡ºï¼‰
```

### å°å…¥åˆ¤æ–­åŸºæº–

| åˆ¤æ–­åŸºæº– | CQRS | Event Sourcing |
|---------|------|----------------|
| **èª­ã¿æ›¸ãã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå¤§ããç•°ãªã‚‹** | âœ… é©ã—ã¦ã„ã‚‹ | - |
| **èª­ã¿è¾¼ã¿ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒé‡è¦** | âœ… é©ã—ã¦ã„ã‚‹ | - |
| **å¤‰æ›´å±¥æ­´ã®å®Œå…¨ãªè¿½è·¡ãŒå¿…è¦** | - | âœ… é©ã—ã¦ã„ã‚‹ |
| **ç›£æŸ»ãƒ­ã‚°ãŒæ³•çš„ã«å¿…è¦** | - | âœ… é©ã—ã¦ã„ã‚‹ |
| **çŠ¶æ…‹ã®å†æ§‹ç¯‰ãƒ»ã‚¿ã‚¤ãƒ ãƒˆãƒ©ãƒ™ãƒ«ãŒå¿…è¦** | - | âœ… é©ã—ã¦ã„ã‚‹ |
| **ã‚·ãƒ³ãƒ—ãƒ«ãªCRUDã§ååˆ†** | âŒ éå‰° | âŒ éå‰° |
| **ãƒãƒ¼ãƒ ã®çµŒé¨“ãŒæµ…ã„** | âš ï¸ æ…é‡ã« | âš ï¸ æ…é‡ã« |

### CQRS / ES ã¯ã©ã“ã«é©ç”¨ã™ã¹ãã‹ï¼Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                       â”‚
â”‚   Core Domain ã§è¤‡é›‘æ€§ãŒé«˜ã„å ´åˆ â†’ æ¤œè¨ã®ä¾¡å€¤ã‚ã‚Š       â”‚
â”‚                                                       â”‚
â”‚   Supporting / Generic â†’ ã»ã¼ä¸è¦ï¼ˆCRUD ã§ååˆ†ï¼‰       â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **é‡è¦**: CQRS ã¨ Event Sourcing ã¯å¼·åŠ›ã ãŒè¤‡é›‘ã•ã‚‚å¢—ã™ã€‚
> ã€Œã™ã¹ã¦ã«é©ç”¨ã™ã‚‹ã€ã®ã§ã¯ãªãã€**ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ä¸­ã§ã‚‚ç‰¹ã«è¤‡é›‘ãªéƒ¨åˆ†**ã«ã®ã¿æ¤œè¨ã™ã‚‹ã€‚
> è©³ã—ã„ã‚³ãƒ¼ãƒ‰ä¾‹ã¯ [examples/cqrs_overview.py](./examples/cqrs_overview.py) ã‚’å‚ç…§ã€‚

---

## 10. DDDã‚’é©ç”¨ã™ã¹ãå ´æ‰€ã¨ã—ãªã„å ´æ‰€

### DDD ã®é©ç”¨ã‚³ã‚¹ãƒˆ

DDDã¯å¼·åŠ›ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã ãŒã€å­¦ç¿’ã‚³ã‚¹ãƒˆãƒ»å®Ÿè£…ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‹ã€‚
ã™ã¹ã¦ã®å ´æ‰€ã«é©ç”¨ã™ã‚‹ã®ã¯éåŠ¹ç‡çš„ã§ã‚ã‚Šã€é©åˆ‡ãªå ´æ‰€ã‚’è¦‹æ¥µã‚ã‚‹ã“ã¨ãŒé‡è¦ã€‚

### é©ç”¨åˆ¤æ–­ãƒãƒˆãƒªã‚¯ã‚¹

```
ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®è¤‡é›‘ã•
    â–²
    â”‚
é«˜  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  â”‚                  â”‚                  â”‚
    â”‚  â”‚  DDDé©ç”¨ã‚’æ¤œè¨    â”‚  DDD ã‚’é©ç”¨ã™ã¹ã â”‚
    â”‚  â”‚  ï¼ˆROIã‚’è©•ä¾¡ï¼‰    â”‚  ï¼ˆæœ€å¤§ã®åŠ¹æœï¼‰   â”‚
    â”‚  â”‚                  â”‚                  â”‚
    â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  â”‚                  â”‚                  â”‚
ä½  â”‚  â”‚  DDD ã¯ä¸è¦      â”‚  DDD ã®ä¸€éƒ¨ã‚’     â”‚
    â”‚  â”‚  ï¼ˆCRUD ã§ååˆ†ï¼‰  â”‚  é©ç”¨ï¼ˆè»½é‡DDDï¼‰  â”‚
    â”‚  â”‚                  â”‚                  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’
        ä½                                  é«˜
             ãƒ“ã‚¸ãƒã‚¹ä¸Šã®é‡è¦åº¦ï¼ˆå·®åˆ¥åŒ–åº¦ï¼‰
```

### DDD ã‚’é©ç”¨ã™ã¹ãå ´æ‰€

```
âœ… é©ç”¨ã™ã¹ã:
  1. ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³
     - ãƒ“ã‚¸ãƒã‚¹ã®æ ¸å¿ƒéƒ¨åˆ†
     - è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹
     - é »ç¹ã«å¤‰æ›´ã•ã‚Œã‚‹

  2. è¤‡é›‘ãªæ”¯æ´ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³
     - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒè¤‡é›‘
     - å˜ç´”ãªCRUDã§ã¯å¯¾å¿œã§ããªã„

  3. ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã¨ã®å”æ¥­ãŒå¿…è¦ãªé ˜åŸŸ
     - ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªã®ä¾¡å€¤ãŒé«˜ã„
     - ãƒ“ã‚¸ãƒã‚¹ã¨ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã®æ©‹æ¸¡ã—ãŒé‡è¦
```

### DDD ã‚’é©ç”¨ã™ã¹ãã§ãªã„å ´æ‰€

```
âŒ é©ç”¨ã™ã¹ãã§ãªã„:
  1. æ±ç”¨ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³
     - èªè¨¼ã€ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç­‰
     - æ—¢è£½å“ã‚’ä½¿ã†ã¹ã

  2. å˜ç´”ãªCRUDã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
     - ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒã»ã¼ãªã„
     - ãƒ‡ãƒ¼ã‚¿ã®å‡ºã—å…¥ã‚ŒãŒä¸»ãªæ©Ÿèƒ½

  3. ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ— / PoC
     - ç´ æ—©ãæ¤œè¨¼ã™ã‚‹ã“ã¨ãŒæœ€å„ªå…ˆ
     - å¾Œã‹ã‚‰æœ¬æ ¼çš„ã«ä½œã‚Šç›´ã™å‰æ

  4. ãƒ‡ãƒ¼ã‚¿å¤‰æ› / ETL ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
     - æ‰‹ç¶šãçš„ãªå‡¦ç†ãŒä¸­å¿ƒ
     - ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®æ©æµãŒå°‘ãªã„

  5. çŸ­æœŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
     - DDDã®åˆæœŸæŠ•è³‡ã‚’å›åã§ããªã„
```

### è»½é‡DDDï¼ˆDDD-Liteï¼‰ã¨ã„ã†é¸æŠè‚¢

ã™ã¹ã¦ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ä½¿ã‚ãªãã¦ã‚‚ã€DDDã®ä¸€éƒ¨ã‚’å–ã‚Šå…¥ã‚Œã‚‹ã“ã¨ã¯æœ‰åŠ¹:

```
ãƒ•ãƒ«DDD                          è»½é‡DDD
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èª   â”‚          â”‚ âœ… ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èª   â”‚
â”‚ âœ… å¢ƒç•Œã¥ã‘ã‚‰ã‚ŒãŸ   â”‚          â”‚ âœ… å¢ƒç•Œã¥ã‘ã‚‰ã‚ŒãŸ   â”‚
â”‚    ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ     â”‚          â”‚    ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ     â”‚
â”‚ âœ… ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£     â”‚          â”‚ âœ… ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£     â”‚
â”‚ âœ… å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ   â”‚          â”‚ âœ… å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ   â”‚
â”‚ âœ… é›†ç´„            â”‚          â”‚ â–³  é›†ç´„ï¼ˆç°¡ç•¥åŒ–ï¼‰   â”‚
â”‚ âœ… ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ â”‚          â”‚ â–³  å¿…è¦ã«å¿œã˜ã¦     â”‚
â”‚ âœ… ãƒªãƒã‚¸ãƒˆãƒª      â”‚          â”‚ â–³  ç°¡ç•¥åŒ–          â”‚
â”‚ âœ… ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ â”‚          â”‚ â–³  å¿…è¦ã«å¿œã˜ã¦     â”‚
â”‚ âœ… ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ â”‚          â”‚ âŒ çœç•¥å¯èƒ½        â”‚
â”‚    ã‚µãƒ¼ãƒ“ã‚¹        â”‚          â”‚                    â”‚
â”‚ âœ… CQRS/ES        â”‚          â”‚ âŒ çœç•¥            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. ã¾ã¨ã‚

### ä»Šæ—¥å­¦ã‚“ã ã“ã¨

1. **ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®3åˆ†é¡** ã‚’ç†è§£ã—ãŸ
   - Core Domain: ç«¶äº‰å„ªä½æ€§ã®æºæ³‰ â†’ æœ€å¤§ã®æŠ•è³‡
   - Supporting Subdomain: ã‚³ã‚¢ã‚’æ”¯ãˆã‚‹ â†’ é©åº¦ãªæŠ•è³‡
   - Generic Subdomain: å…±é€šã®æ©Ÿèƒ½ â†’ æœ€å°é™ã®æŠ•è³‡ï¼ˆæ—¢è£½å“æ´»ç”¨ï¼‰

2. **ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è’¸ç•™** ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’å­¦ã‚“ã 
   - Domain Vision Statement
   - Highlighted Core
   - Generic Subdomains ã®åˆ†é›¢
   - Cohesive Mechanism

3. **ã€Œä½œã‚‹ vs è²·ã† vs å€Ÿã‚Šã‚‹ã€** ã®åˆ¤æ–­åŸºæº–ã‚’å­¦ã‚“ã 
   - ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç¨®é¡ã«å¿œã˜ã¦æœ€é©ãªé¸æŠãŒå¤‰ã‚ã‚‹

4. **CQRS / Event Sourcing** ã®æ¦‚è¦ã¨é©ç”¨åˆ¤æ–­åŸºæº–ã‚’å­¦ã‚“ã 
   - ã‚³ã‚¢ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ä¸­ã§ã‚‚ç‰¹ã«è¤‡é›‘ãªéƒ¨åˆ†ã«ã®ã¿æ¤œè¨

5. **DDDã®é©ç”¨ç¯„å›²** ã‚’è¦‹æ¥µã‚ã‚‹åŠ›ã‚’èº«ã«ã¤ã‘ãŸ
   - ã™ã¹ã¦ã«é©ç”¨ã™ã‚‹ã®ã§ã¯ãªãã€ä¾¡å€¤ãŒæœ€å¤§åŒ–ã™ã‚‹å ´æ‰€ã«é›†ä¸­

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

- [exercises.md](./exercises.md) ã®æ¼”ç¿’ã«å–ã‚Šçµ„ã‚€
- [examples/](./examples/) ã®ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’èª­ã‚“ã§ç†è§£ã‚’æ·±ã‚ã‚‹
- è‡ªåˆ†ãŒé–¢ã‚ã£ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚µãƒ–ãƒ‰ãƒ¡ã‚¤ãƒ³åˆ†é¡ã‚’è©¦ã¿ã‚‹

---

## å‚è€ƒæ–‡çŒ®

- Evans, E. (2003). *Domain-Driven Design: Tackling Complexity in the Heart of Software*
  - ç‰¹ã« Chapter 15: Distillation
- Vernon, V. (2013). *Implementing Domain-Driven Design*
  - ç‰¹ã« Chapter 2: Domains, Subdomains, and Bounded Contexts
- Vlad Khononov (2021). *Learning Domain-Driven Design*
  - ç‰¹ã« Part 1: Strategic Design

---

> **Day 5 äºˆå‘Š**: ã€Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ã€â€” å¢ƒç•Œã¥ã‘ã‚‰ã‚ŒãŸã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåŒå£«ãŒã©ã®ã‚ˆã†ã«é–¢ä¿‚ã—åˆã†ã®ã‹ã‚’å­¦ã¶ã€‚
> Shared Kernelã€Customer-Supplierã€Conformistã€Anti-Corruption Layer ãªã©ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ‰±ã†ã€‚
