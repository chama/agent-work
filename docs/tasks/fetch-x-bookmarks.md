# X ブックマーク取得機能

## ゴール

【状態目標】自分のXアカウントのブックマークを取得し、その内容（テキスト）を文字列として出力できる
【背景・動機】ブックマークした投稿の内容をプログラムから参照・活用したい
【スコープ】ブックマークの取得と文字列出力のみ（ブックマークの追加・削除は対象外）

## 要件

### 機能要件（FR）

- FR-1: 認証済みユーザーのブックマーク一覧を取得できる
- FR-2: 各ブックマークの投稿テキスト・著者情報・作成日時を文字列として出力できる
- FR-3: OAuth2 PKCEフローで認証し、トークンをファイルに保存・再利用できる

### 非機能要件（NFR）

- NFR-1: [セキュリティ] トークンファイルは.gitignoreで管理対象外にする
- NFR-2: [保守性] 既存の`xdk`ライブラリを活用する

### 受け入れ条件（AC）

- AC-1: `uv run python x/fetch_bookmarks.py` でブックマーク内容が文字列として表示される → FR-1, FR-2
- AC-2: 初回実行時にブラウザでOAuth2認証が行われ、次回以降はトークン再利用で認証不要 → FR-3

## 前提条件・制約

- X Developer Portalでアプリ作成済み（Client ID / Client Secret取得済み）
- xdk SDKの`get_bookmarks`メソッドはOAuth2 User Token（PKCE）が必須
- 環境変数: `X_CLIENT_ID`, `X_CLIENT_SECRET`

## タスクリスト

- [ ] **T-1: OAuth2 PKCE認証 + ブックマーク取得スクリプト実装**（実装）M
  - 内容: OAuth2 PKCEフローでの認証、トークン保存/読込、ブックマーク取得、テキスト出力を1スクリプトにまとめる
  - 成果物: `x/fetch_bookmarks.py`
  - 依存: なし
  - 対応: FR-1, FR-2, FR-3

- [ ] **T-2: .gitignore更新・依存関係追加**（実装）S
  - 内容: トークンファイルの除外、必要パッケージの追加
  - 成果物: `.gitignore`更新、`pyproject.toml`更新
  - 依存: T-1
  - 対応: NFR-1, NFR-2

## 推奨実装順序

T-1 → T-2
